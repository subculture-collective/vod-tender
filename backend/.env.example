# vod-tender backend environment example
# Copy to backend/.env and fill in real secrets (do NOT commit real credentials)

# --- Twitch Chat / OAuth (user access token for chat) ---
TWITCH_CHANNEL=your_channel_name
TWITCH_BOT_USERNAME=your_bot_username
TWITCH_OAUTH_TOKEN=

# --- Twitch Application Credentials (for app & auth code flow) ---
TWITCH_CLIENT_ID=your_twitch_app_client_id
TWITCH_CLIENT_SECRET=your_twitch_app_client_secret
TWITCH_REDIRECT_URI=http://vod-api.onnwee.me/auth/twitch/callback
TWITCH_SCOPES=chat:read chat:edit

# --- VOD Context ---
TWITCH_VOD_ID=123456789
TWITCH_VOD_START=2025-08-12T19:03:00Z
about:blank#blocked
# --- Database & Storage ---
# Postgres DSN (matches docker-compose service 'postgres')
DB_DSN=postgres://vod:vod@postgres:5432/vod?sslmode=disable
DATA_DIR=data

# --- OAuth Token Encryption (REQUIRED for production) ---
# Base64-encoded 32-byte key for AES-256-GCM encryption of OAuth tokens at rest
# Generate with: openssl rand -base64 32
# WARNING: If not set, tokens are stored in PLAINTEXT (acceptable for local dev only)
# Store this key securely (AWS Secrets Manager, HashiCorp Vault, etc.)
ENCRYPTION_KEY=

# --- YouTube (optional future integration) ---
YT_CREDENTIALS_FILE=
YT_CREDENTIALS_JSON=
YT_TOKEN_FILE=
YT_TOKEN_JSON=

# YouTube OAuth
YT_CLIENT_ID=
YT_CLIENT_SECRET=
YT_REDIRECT_URI=https://vod-api.onnwee.me/auth/youtube/callback
# Comma separated scopes (joined into space list) or leave blank to use default upload scope
YT_SCOPES=

# --- Server (optional) ---
# HTTP_ADDR=:8080

# Guidance:
# 1. Run backend, visit /auth/twitch/start to authorize and store tokens.
# 2. Chat uses TWITCH_OAUTH_TOKEN if set; otherwise loads stored token from DB.
# 3. Keep real .env out of version control.
